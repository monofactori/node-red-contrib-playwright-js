<script type="text/javascript">
    RED.nodes.registerType('playwright-clicker', {
        category: 'function',
        color: '#FF8C42',
        defaults: {
            name: {value: ''},
            url: {value: ''},
            selector: {value: ''},
            waitAfterClick: {value: 2000},
            timeout: {value: 10000},
            screenshotBefore: {value: false}
        },
        inputs: 1,
        outputs: 2,  // –ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥: —É—Å–ø–µ—Ö, –í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥: –æ—à–∏–±–∫–∞
        icon: 'font-awesome/fa-mouse-pointer',
        label: function() {
            return this.name || 'Playwright Clicker';
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        }
    });
</script>

<script type="text/html" data-template-name="playwright-clicker">
    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —É–∑–ª–∞ -->
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> –ù–∞–∑–≤–∞–Ω–∏–µ</label>
        <input type="text" id="node-input-name" placeholder="–ö–ª–∏–∫–µ—Ä –ø–æ –∫–Ω–æ–ø–∫–µ">
    </div>
    
    <!-- URL -->
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> URL</label>
        <input type="text" id="node-input-url" placeholder="https://example.com" style="width: 70%;">
        <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
            –ê–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º –¥–ª—è –∫–ª–∏–∫–∞<br>
            üí° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ <code>msg.url</code>
        </div>
    </div>
    
    <!-- CSS –°–µ–ª–µ–∫—Ç–æ—Ä -->
    <div class="form-row">
        <label for="node-input-selector"><i class="fa fa-crosshairs"></i> CSS –°–µ–ª–µ–∫—Ç–æ—Ä</label>
        <input type="text" id="node-input-selector" placeholder="button, .btn, #submit" style="width: 70%;">
        <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
            –°–µ–ª–µ–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –∫–ª–∏–∫–∞ (–∫–Ω–æ–ø–∫–∞, —Å—Å—ã–ª–∫–∞)<br>
            üí° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ <code>msg.selector</code>
        </div>
    </div>
    
    <hr style="margin: 15px 0; border: none; border-top: 1px solid #ddd;">
    
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ -->
    <div style="background: #f9f9f9; padding: 10px; border-radius: 5px; margin: 10px 0;">
        <h4 style="margin: 0 0 10px 0; color: #FF8C42;">‚è±Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏</h4>
        
        <!-- –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ -->
        <div class="form-row">
            <label for="node-input-waitAfterClick"><i class="fa fa-clock-o"></i> –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ (–º—Å)</label>
            <input type="number" id="node-input-waitAfterClick" placeholder="2000" min="0" step="500" style="width: 100px;">
            <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
                –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
            </div>
        </div>
        
        <!-- –¢–∞–π–º–∞—É—Ç –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ -->
        <div class="form-row">
            <label for="node-input-timeout"><i class="fa fa-hourglass-half"></i> –¢–∞–π–º–∞—É—Ç –ø–æ–∏—Å–∫–∞ (–º—Å)</label>
            <input type="number" id="node-input-timeout" placeholder="10000" min="1000" step="1000" style="width: 100px;">
            <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
                –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
            </div>
        </div>
        
        <!-- –°–∫—Ä–∏–Ω—à–æ—Ç –¥–æ –∫–ª–∏–∫–∞ -->
        <div class="form-row">
            <input type="checkbox" id="node-input-screenshotBefore" style="display: inline-block; width: auto; vertical-align: top;">
            <label for="node-input-screenshotBefore" style="width: auto;">üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç –¥–æ –∫–ª–∏–∫–∞</label>
            <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
                –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–ª–∏–∫–∞
            </div>
        </div>
    </div>
    
    <!-- –ü—Ä–∏–º–µ—Ä—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -->
    <div class="form-row">
        <div style="background: #fff8dc; border: 1px solid #ddd; border-radius: 5px; padding: 10px;">
            <h4 style="margin: 0 0 10px 0; color: #8b7355;">üéØ –ü—Ä–∏–º–µ—Ä—ã CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤</h4>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.85em;">
                <li><code>button</code> - –ª—é–±–∞—è –∫–Ω–æ–ø–∫–∞</li>
                <li><code>.btn</code> - —ç–ª–µ–º–µ–Ω—Ç —Å –∫–ª–∞—Å—Å–æ–º btn</li>
                <li><code>#submit</code> - —ç–ª–µ–º–µ–Ω—Ç —Å ID submit</li>
                <li><code>a[href="/login"]</code> - —Å—Å—ã–ª–∫–∞ –Ω–∞ /login</li>
                <li><code>input[type="submit"]</code> - –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏</li>
                <li><code>button:contains("–í–æ–π—Ç–∏")</code> - –∫–Ω–æ–ø–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º "–í–æ–π—Ç–∏"</li>
            </ul>
        </div>
    </div>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ -->
    <div class="form-row">
        <div style="background: #e8f5e8; border: 1px solid #4caf50; border-radius: 5px; padding: 10px;">
            <h4 style="margin: 0 0 10px 0; color: #2e7d32;">üìä –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ</h4>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.85em;">
                <li>üìç <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ:</strong> —Ç–µ–≥, —Ç–µ–∫—Å—Ç, —Å—Å—ã–ª–∫–∞</li>
                <li>üîÑ <strong>–ù–∞–≤–∏–≥–∞—Ü–∏—è:</strong> –±—ã–ª –ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
                <li>üì∏ <strong>–°–∫—Ä–∏–Ω—à–æ—Ç—ã:</strong> –¥–æ –∏ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞</li>
                <li>‚è±Ô∏è <strong>–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</strong> –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
            </ul>
        </div>
    </div>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="form-row">
        <div style="background: #f0f8ff; border: 1px solid #b0d4ff; border-radius: 5px; padding: 10px; margin-top: 10px;">
            <h4 style="margin: 0 0 10px 0; color: #2e75b6;">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.9em;">
                <li><strong>–ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥:</strong> –£—Å–ø–µ—à–Ω—ã–π –∫–ª–∏–∫ —Å –¥–∞–Ω–Ω—ã–º–∏</li>
                <li><strong>–í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥:</strong> –û—à–∏–±–∫–∏</li>
                <li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:</strong> –ñ–¥–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞</li>
                <li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ:</strong> –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
            </ul>
        </div>
    </div>
</script>

<script type="text/html" data-help-name="playwright-clicker">
    <p>üñ±Ô∏è <strong>Playwright Clicker</strong> - —É–∑–µ–ª –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∏–∫–∞ –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.</p>
    
    <h3>üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>
    <ul>
        <li><b>–£–º–Ω—ã–π –∫–ª–∏–∫:</b> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ –∫–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º</li>
        <li><b>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:</b> –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–∞ –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
        <li><b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ:</b> –î–µ—Ç–∞–ª–∏ –æ –∫–ª–∏–∫–Ω—É—Ç–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ</li>
        <li><b>–°–∫—Ä–∏–Ω—à–æ—Ç—ã:</b> –î–æ –∏ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è</li>
    </ul>

    <h3>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
    <ul>
        <li><b>URL:</b> –ê–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º</li>
        <li><b>CSS –°–µ–ª–µ–∫—Ç–æ—Ä:</b> –°–µ–ª–µ–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –∫–ª–∏–∫–∞</li>
        <li><b>–¢–∞–π–º–∞—É—Ç—ã:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∂–∏–¥–∞–Ω–∏—è</li>
        <li><b>–°–∫—Ä–∏–Ω—à–æ—Ç—ã:</b> –û–ø—Ü–∏–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è</li>
    </ul>

    <h3>üì® –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h3>
    <p>–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ <code>msg</code>:</p>
    <ul>
        <li><code>msg.url</code> - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
        <li><code>msg.selector</code> - CSS —Å–µ–ª–µ–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞</li>
        <li><code>msg.waitAfterClick</code> - –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ (–º—Å)</li>
        <li><code>msg.timeout</code> - –¢–∞–π–º–∞—É—Ç –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ (–º—Å)</li>
        <li><code>msg.screenshotBefore</code> - –°–∫—Ä–∏–Ω—à–æ—Ç –¥–æ –∫–ª–∏–∫–∞ (true/false)</li>
    </ul>

    <h3>üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
    <p><b>–ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥ (—É—Å–ø–µ—Ö):</b></p>
    <ul>
        <li><code>msg.payload.success</code> - true</li>
        <li><code>msg.payload.originalUrl</code> - –ò—Å—Ö–æ–¥–Ω—ã–π URL</li>
        <li><code>msg.payload.newUrl</code> - URL –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞</li>
        <li><code>msg.payload.title</code> - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
        <li><code>msg.payload.elementInfo</code> - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ</li>
        <li><code>msg.payload.screenshotBefore</code> - –°–∫—Ä–∏–Ω—à–æ—Ç –¥–æ –∫–ª–∏–∫–∞</li>
        <li><code>msg.payload.screenshotAfter</code> - –°–∫—Ä–∏–Ω—à–æ—Ç –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞</li>
        <li><code>msg.payload.navigation</code> - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–µ—Ö–æ–¥–µ</li>
    </ul>
    
    <p><b>–í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥ (–æ—à–∏–±–∫–∞):</b></p>
    <ul>
        <li><code>msg.payload.success</code> - false</li>
        <li><code>msg.payload.error</code> - –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏</li>
    </ul>

    <h3>üí° –ü—Ä–∏–º–µ—Ä—ã CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤</h3>
    <table style="border-collapse: collapse; width: 100%;">
        <tr style="background: #f5f5f5;">
            <th style="border: 1px solid #ddd; padding: 8px;">–¢–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞</th>
            <th style="border: 1px solid #ddd; padding: 8px;">–°–µ–ª–µ–∫—Ç–æ—Ä</th>
            <th style="border: 1px solid #ddd; padding: 8px;">–û–ø–∏—Å–∞–Ω–∏–µ</th>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">–ö–Ω–æ–ø–∫–∞</td>
            <td style="border: 1px solid #ddd; padding: 8px;"><code>button</code></td>
            <td style="border: 1px solid #ddd; padding: 8px;">–õ—é–±–∞—è –∫–Ω–æ–ø–∫–∞</td>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">–ü–æ –∫–ª–∞—Å—Å—É</td>
            <td style="border: 1px solid #ddd; padding: 8px;"><code>.btn-primary</code></td>
            <td style="border: 1px solid #ddd; padding: 8px;">–≠–ª–µ–º–µ–Ω—Ç —Å –∫–ª–∞—Å—Å–æ–º</td>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">–ü–æ ID</td>
            <td style="border: 1px solid #ddd; padding: 8px;"><code>#login-btn</code></td>
            <td style="border: 1px solid #ddd; padding: 8px;">–≠–ª–µ–º–µ–Ω—Ç —Å ID</td>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">–°—Å—ã–ª–∫–∞</td>
            <td style="border: 1px solid #ddd; padding: 8px;"><code>a[href="/dashboard"]</code></td>
            <td style="border: 1px solid #ddd; padding: 8px;">–°—Å—ã–ª–∫–∞ –Ω–∞ dashboard</td>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">–ü–æ —Ç–µ–∫—Å—Ç—É</td>
            <td style="border: 1px solid #ddd; padding: 8px;"><code>button:has-text("–í–æ–π—Ç–∏")</code></td>
            <td style="border: 1px solid #ddd; padding: 8px;">–ö–Ω–æ–ø–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º</td>
        </tr>
    </table>

    <h3>üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
    <ul>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç—ã</li>
        <li>–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–∞–π—Ç–∞–º</li>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º –∏ –∑–∞—è–≤–æ–∫</li>
        <li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
        <li>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–∫—É–ø–æ–∫ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</li>
    </ul>

    <h3>‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã</h3>
    <ul>
        <li>–≠–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–∏–º—ã–º –∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤</li>
        <li>–°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã</li>
        <li>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º</li>
    </ul>
</script> 