# üé≠ NODE-RED PLAYWRIGHT WEB SURFING - –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

## üìã **–ö–†–ê–¢–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê**
–ú–æ–¥—É–ª—å **node-red-contrib-playwright-js** –¥–ª—è Node-RED, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç Node-RED –≤ –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é Playwright.

---

## üéØ **–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï - v0.2.0** ‚úÖ **–ì–û–¢–û–í–û**

### **üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:**
–ú–æ–¥—É–ª—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **3 –ø—Ä–æ—Å—Ç—ã—Ö –Ω–æ–¥** –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥–∞:

```
üü¢ playwright-session-start ‚Üí üîµ playwright-session-action ‚Üí üî¥ playwright-session-end
      ‚Üì                            ‚Üì                              ‚Üì
   –°–æ–∑–¥–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä             –õ—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ               –ó–∞–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
   + –ø–æ–ª—É—á–∏—Ç—å session_id       (30+ —Ç–∏–ø–æ–≤)                  + –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
```

### **üì¶ –û–°–ù–û–í–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´:**

#### **1. SessionManager (—è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã):**
```javascript
class SessionManager {
  sessions = new Map(); // session_id ‚Üí { browser, page, context }
  
  async createSession(url, options) // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
  async executeAction(sessionId, action, params) // 30+ –¥–µ–π—Å—Ç–≤–∏–π
  async closeSession(sessionId) // –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
}
```

#### **2. –¢—Ä–∏ –Ω–æ–¥—ã:**
- **üü¢ playwright-session-start** - –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- **üîµ playwright-session-action** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –Ω–æ–¥–∞ —Å 30+ –¥–µ–π—Å—Ç–≤–∏—è–º–∏  
- **üî¥ playwright-session-end** - –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ –∏ –æ—á–∏—Å—Ç–∫–∞

---

## üöÄ **–í–û–ó–ú–û–ñ–ù–û–°–¢–ò v0.2.0**

### **30+ –¢–ò–ü–û–í –î–ï–ô–°–¢–í–ò–ô –≤ session-action:**

#### **üåê –ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- `navigate`, `go_back`, `go_forward`, `reload`
- `wait_for_navigation`, `wait_for_load`

#### **üìù –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö:**
- `fill_form`, `fill_multiple`, `type_text`
- `select_option`, `press_key`

#### **üñ±Ô∏è –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:**
- `click`, `hover`, `focus`, `scroll`

#### **üç™ Cookies –∏ Storage:**
- `set_cookies`, `get_cookies`, `clear_cookies`
- `set_local_storage`

#### **üåê Headers –∏ —ç–º—É–ª—è—Ü–∏—è:**
- `set_user_agent`, `set_extra_headers`
- `emulate_device`, `set_viewport`

#### **üìÇ –§–∞–π–ª—ã:**
- `upload_file`, `download_file`

#### **üõ°Ô∏è –ê–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç:**
- `stealth_mode` - –±–∞–∑–æ–≤–æ–µ —Å–æ–∫—Ä—ã—Ç–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- `accept_cookie_banner` - –∞–≤—Ç–æ–ø—Ä–∏–Ω—è—Ç–∏–µ cookies
- `handle_dialog` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤

#### **üìä –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- `screenshot`, `get_text`, `get_url`
- `get_all_links`, `get_page_info`, `scrape`

#### **‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ:**
- `wait_for_element`, `wait_for_text`, `wait_timeout`

#### **üíª JavaScript:**
- `execute_js` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ JS

---

## üéØ **–û–°–ù–û–í–ù–ê–Ø –¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê:**
**–†–µ–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥:** –∑–∞–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç ‚Üí –≤–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ ‚Üí –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ —á–µ—Ä–µ–∑ API ‚Üí –≤–≤–µ—Å—Ç–∏ –∫–æ–¥ ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é ‚Üí –∏–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ - **–í–°–ï –í –û–î–ù–û–ô –°–ï–°–°–ò–ò –ë–†–ê–£–ó–ï–†–ê**.

### **üî• –ü–†–ò–ú–ï–†–´ –°–¶–ï–ù–ê–†–ò–ï–í:**

#### **1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ —Å 2FA:**
```
start(site.com) ‚Üí fill_form(email) ‚Üí click(send_code) ‚Üí 
[API –∑–∞–ø—Ä–æ—Å] ‚Üí fill_form(code) ‚Üí click(login) ‚Üí 
get_page_info() ‚Üí end()
```

#### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤:**
```
start(shop.com) ‚Üí navigate(product_page) ‚Üí get_text(.price) ‚Üí 
screenshot() ‚Üí [—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É] ‚Üí end()
```

#### **3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–æ–∫:**
```
start(form_site.com) ‚Üí stealth_mode() ‚Üí accept_cookie_banner() ‚Üí 
fill_multiple([name, email, phone]) ‚Üí upload_file(documents) ‚Üí 
click(submit) ‚Üí wait_for_text("success") ‚Üí end()
```

---

## üìä **–≠–í–û–õ–Æ–¶–ò–Ø –ü–†–û–ï–ö–¢–ê:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | v0.1.1 | v0.2.0 |
|----------|--------|--------|
| **–ù–æ–¥—ã** | 7 —Å–ª–æ–∂–Ω—ã—Ö | **3 –ø—Ä–æ—Å—Ç—ã–µ** ‚ú® |
| **–î–µ–π—Å—Ç–≤–∏—è** | 15 –±–∞–∑–æ–≤—ã—Ö | **30+ –º–æ—â–Ω—ã—Ö** üöÄ |
| **–§–æ–∫—É—Å** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | **–í–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥** üåê |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | –ó–∞–ø—É—Ç–∞–Ω–Ω–∞—è | **–ü—Ä–æ—Å—Ç–∞—è** üí° |
| **Use cases** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ | **–ë–µ–∑–≥—Ä–∞–Ω–∏—á–Ω—ã–µ** üî• |

---

## üõ†Ô∏è **–¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:**

### **–û–∫—Ä—É–∂–µ–Ω–∏–µ:**
- **–û–°:** Linux 6.12.20+rpt-rpi-2712 (Raspberry Pi)
- **Node-RED:** –ó–∞–ø—É—â–µ–Ω –Ω–∞ http://192.168.1.45:1880
- **–ü—É—Ç—å –º–æ–¥—É–ª—è:** `/root/node-red-contrib-playwright-js`
- **Node-RED –ø–∞–ø–∫–∞:** `~/.node-red` –∏–ª–∏ `/root/.node-red`

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
cd ~/.node-red
npm install /root/node-red-contrib-playwright-js
sudo systemctl restart nodered
```

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:**
```
node-red-contrib-playwright-js/
‚îú‚îÄ‚îÄ package.json (3 –Ω–æ–¥—ã)
‚îú‚îÄ‚îÄ session-start.js
‚îú‚îÄ‚îÄ session-action.js  
‚îú‚îÄ‚îÄ session-end.js
‚îú‚îÄ‚îÄ session-manager.js (SessionManager)
‚îú‚îÄ‚îÄ session-start.html
‚îú‚îÄ‚îÄ session-action.html
‚îú‚îÄ‚îÄ session-end.html
‚îî‚îÄ‚îÄ README.md
```

---

## ‚úÖ **–ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ (–ì–û–¢–û–í–û):**

1. ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - 3 –Ω–æ–¥—ã –≤–º–µ—Å—Ç–æ 7
2. ‚úÖ **–ú–æ—â–Ω–∞—è session-action** —Å 30+ —Ç–∏–ø–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
3. ‚úÖ **SessionManager** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞
4. ‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. ‚úÖ **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π
6. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –¥–ª—è Raspberry Pi
7. ‚úÖ **–§–æ–∫—É—Å –Ω–∞ –≤–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥–µ** –≤–º–µ—Å—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
8. ‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é

---

## üöÄ **–î–ê–õ–¨–ù–ï–ô–®–ò–ï –ü–õ–ê–ù–´:**

### **v0.2.1 - –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç:**
- [ ] –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Å—Ç–µ–ª—Å-—Ä–µ–∂–∏–º (canvas fingerprinting)
- [ ] –†–æ—Ç–∞—Ü–∏—è User-Agent'–æ–≤
- [ ] –ò–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- [ ] –û–±—Ö–æ–¥ base64 –∫–∞–ø—á–∏

### **v0.2.2 - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- [ ] Request interception –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–∫–ª–∞–º—ã
- [ ] –ü—É–ª–∏–Ω–≥ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –ø–æ –¥–æ–º–µ–Ω–∞–º
- [ ] –°–∂–∞—Ç–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üìã **–î–õ–Ø –†–ê–ë–û–¢–´ –° –ü–†–û–ï–ö–¢–û–ú –ù–£–ñ–ù–û –ó–ù–ê–¢–¨:**

1. **–û—Å–Ω–æ–≤–∞:** –ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Playwright –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. **–¶–µ–ª—å:** –í–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –ù–ï —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** 3 –ø—Ä–æ—Å—Ç—ã–µ –Ω–æ–¥—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —Å–µ—Å—Å–∏–π
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
5. **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Raspberry Pi —Å Node-RED
6. **–Ø–∑—ã–∫:** JavaScript/Node.js —Å HTML –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–æ–¥

---

## üé≠ **–ò–¢–û–ì:**
**v0.2.0 - –≠–¢–û –ü–û–õ–ù–û–¶–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –í–ï–ë-–°–ï–†–§–ò–ù–ì–ê!** üöÄ

–ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤ –¥–ª—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤ Node-RED. –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ + –º–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ = –∏–¥–µ–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–µ–±-—Å–µ—Ä—Ñ–∏–Ω–≥–∞. 