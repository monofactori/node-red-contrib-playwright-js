<script type="text/javascript">
    RED.nodes.registerType('playwright-form', {
        category: 'function',
        color: '#4ECDC4',
        defaults: {
            name: {value: ''},
            url: {value: ''},
            name_field: {value: ''},
            email: {value: ''},
            message: {value: ''}
        },
        inputs: 1,
        outputs: 2,  // –ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥: —É—Å–ø–µ—Ö, –í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥: –æ—à–∏–±–∫–∞
        icon: 'font-awesome/fa-edit',
        label: function() {
            return this.name || 'Playwright Form';
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        }
    });
</script>

<script type="text/html" data-template-name="playwright-form">
    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —É–∑–ª–∞ -->
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> –ù–∞–∑–≤–∞–Ω–∏–µ</label>
        <input type="text" id="node-input-name" placeholder="–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã">
    </div>
    
    <!-- URL -->
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> URL —Ñ–æ—Ä–º—ã</label>
        <input type="text" id="node-input-url" placeholder="https://example.com/contact" style="width: 70%;">
        <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
            –ê–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ñ–æ—Ä–º–æ–π<br>
            üí° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ <code>msg.url</code>
        </div>
    </div>
    
    <hr style="margin: 15px 0; border: none; border-top: 1px solid #ddd;">
    
    <!-- –ü–æ–ª—è —Ñ–æ—Ä–º—ã -->
    <div style="background: #f9f9f9; padding: 10px; border-radius: 5px; margin: 10px 0;">
        <h4 style="margin: 0 0 10px 0; color: #4ECDC4;">üìù –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</h4>
        
        <!-- –ò–º—è -->
        <div class="form-row">
            <label for="node-input-name_field"><i class="fa fa-user"></i> –ò–º—è</label>
            <input type="text" id="node-input-name_field" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" style="width: 70%;">
            <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
                üí° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ <code>msg.formData.name</code>
            </div>
        </div>
        
        <!-- Email -->
        <div class="form-row">
            <label for="node-input-email"><i class="fa fa-envelope"></i> Email</label>
            <input type="email" id="node-input-email" placeholder="ivan@example.com" style="width: 70%;">
            <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
                üí° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ <code>msg.formData.email</code>
            </div>
        </div>
        
        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ -->
        <div class="form-row">
            <label for="node-input-message"><i class="fa fa-comment"></i> –°–æ–æ–±—â–µ–Ω–∏–µ</label>
            <textarea id="node-input-message" rows="3" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="width: 70%;"></textarea>
            <div style="font-size: 0.8em; color: #666; margin-top: 5px;">
                üí° –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ <code>msg.formData.message</code>
            </div>
        </div>
    </div>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞—Ö -->
    <div class="form-row">
        <div style="background: #fff8dc; border: 1px solid #ddd; border-radius: 5px; padding: 10px;">
            <h4 style="margin: 0 0 10px 0; color: #8b7355;">üéØ –ê–≤—Ç–æ–ø–æ–∏—Å–∫ –ø–æ–ª–µ–π</h4>
            <p style="margin: 0; font-size: 0.85em;">
                –£–∑–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –ø–æ–ª—è —Ñ–æ—Ä–º—ã –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º:<br>
                <code>input[name="email"]</code>, <code>input[name="custname"]</code>, <code>textarea[name="comments"]</code>
            </p>
        </div>
    </div>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="form-row">
        <div style="background: #f0f8ff; border: 1px solid #b0d4ff; border-radius: 5px; padding: 10px; margin-top: 10px;">
            <h4 style="margin: 0 0 10px 0; color: #2e75b6;">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
            <ul style="margin: 0; padding-left: 20px; font-size: 0.9em;">
                <li><strong>–ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥:</strong> –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
                <li><strong>–í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥:</strong> –û—à–∏–±–∫–∏</li>
                <li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</strong> –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</li>
                <li><strong>–°–∫—Ä–∏–Ω—à–æ—Ç:</strong> –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
            </ul>
        </div>
    </div>
</script>

<script type="text/html" data-help-name="playwright-form">
    <p>üìù <strong>Playwright Form</strong> - —É–∑–µ–ª –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤–µ–±-—Ñ–æ—Ä–º.</p>
    
    <h3>üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>
    <ul>
        <li><b>–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ:</b> –ò–º—è, email, —Å–æ–æ–±—â–µ–Ω–∏—è</li>
        <li><b>–£–º–Ω—ã–π –ø–æ–∏—Å–∫:</b> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã</li>
        <li><b>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</b> –¢–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏</li>
        <li><b>–°–∫—Ä–∏–Ω—à–æ—Ç:</b> –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</li>
    </ul>

    <h3>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
    <ul>
        <li><b>URL —Ñ–æ—Ä–º—ã:</b> –ê–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ñ–æ—Ä–º–æ–π</li>
        <li><b>–î–∞–Ω–Ω—ã–µ:</b> –ò–º—è, email, —Å–æ–æ–±—â–µ–Ω–∏–µ</li>
    </ul>

    <h3>üì® –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h3>
    <p>–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ <code>msg</code>:</p>
    <ul>
        <li><code>msg.url</code> - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ñ–æ—Ä–º–æ–π</li>
        <li><code>msg.formData</code> - –û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —Ñ–æ—Ä–º—ã</li>
        <li><code>msg.payload</code> - –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)</li>
    </ul>

    <h3>üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
    <p><b>–ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥ (—É—Å–ø–µ—Ö):</b></p>
    <ul>
        <li><code>msg.payload.success</code> - true</li>
        <li><code>msg.payload.message</code> - –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ</li>
        <li><code>msg.payload.url</code> - URL —Ñ–æ—Ä–º—ã</li>
        <li><code>msg.payload.form_data_used</code> - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
    </ul>
    
    <p><b>–í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥ (–æ—à–∏–±–∫–∞):</b></p>
    <ul>
        <li><code>msg.payload.success</code> - false</li>
        <li><code>msg.payload.error</code> - –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏</li>
    </ul>

    <h3>üí° –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã</h3>
    <pre>{
  "url": "https://httpbin.org/forms/post",
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "email": "ivan@example.com",
  "message": "–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
}</pre>

    <h3>üîç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã</h3>
    <ul>
        <li><code>input[name="email"]</code> - –ü–æ–ª–µ email</li>
        <li><code>input[name="custname"]</code> - –ü–æ–ª–µ –∏–º–µ–Ω–∏</li>
        <li><code>textarea[name="comments"]</code> - –ü–æ–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
        <li>–î—Ä—É–≥–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π</li>
    </ul>

    <h3>üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
    <ul>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</li>
        <li>–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º</li>
        <li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-—Ñ–æ—Ä–º</li>
        <li>–ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç</li>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
    </ul>

    <h3>‚ö†Ô∏è –í–∞–∂–Ω–æ</h3>
    <p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ–æ—Ä–º–∞ <b>–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è</b> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. 
    –£–∑–µ–ª —Ç–æ–ª—å–∫–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è –∏ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.</p>
</script> 